# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—á–∏ —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º–∏

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ê –Ω–∞—á–∞–ª –≤–µ—Å—Ç–∏ —Å–µ—Å—Å–∏—é –ø–æ–∫–µ—Ä–Ω–æ–π –∏–≥—Ä—ã (–¥–æ–±–∞–≤–∏–ª –∏–≥—Ä–æ–∫–æ–≤, –∑–∞–ø–∏—Å–∞–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ buy-in/cash-out, —Ä–∞—Å—Ö–æ–¥—ã). –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–≥—Ä—ã –µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–µ—Ö–∞—Ç—å, –Ω–æ –∏–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è. –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ê —Ö–æ—á–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—É –ë, —á—Ç–æ–±—ã —Ç–æ—Ç –º–æ–≥ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤–µ–¥–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π.

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (SwiftData)
- –ù–µ—Ç –æ–±–ª–∞—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ù–µ—Ç —Å–∏—Å—Ç–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –ù–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞/–∏–º–ø–æ—Ä—Ç–∞ —Å–µ—Å—Å–∏–π

**–¢—Ä–µ–±—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
–ü—Ä–æ—Å—Ç–æ–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–¥–∞—á–∏ —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –ª—é–±–æ–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä (WhatsApp, Telegram) –∏–ª–∏ AirDrop.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ JSON-—Ñ–∞–π–ª

**–ü–æ—á–µ–º—É —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥:**
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (~500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç backend/—Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏ (–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ä–∞–∑–º–µ—Ä–æ–º —Å–µ—Å—Å–∏–∏
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ –ª—é–±–æ–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ê –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–µ—Å—Å–∏–µ–π" –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –≤–∏–¥–µ —Å–µ—Å—Å–∏–∏
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç JSON-—Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.pokersession`
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–π Share Sheet iOS (AirDrop, –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã, –ø–æ—á—Ç–∞)
4. –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ë –ø–æ–ª—É—á–∞–µ—Ç —Ñ–∞–π–ª –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
5. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–µ—Å—Å–∏—é –∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é
6. –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ë –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Å–µ—Å—Å–∏–µ–π

**–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–ø–∏–∏ —Å–µ—Å—Å–∏–∏. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–µ–∂–¥—É –Ω–∏–º–∏ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ (—ç—Ç–æ –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞).

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Transfer DTO (Data Transfer Objects)

–ü–æ—Å–∫–æ–ª—å–∫—É SwiftData –º–æ–¥–µ–ª–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è `Codable`, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–±–ª–∏–∑–Ω–µ—Ü—ã –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ JSON.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏:**

```swift
// –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Å—Å–∏–∏
struct SessionTransferDTO: Codable {
    let id: UUID
    let sessionTitle: String
    let startTime: Date
    let endTime: Date?
    let location: String
    let gameType: String // "NLHoldem" –∏–ª–∏ "PLO4"
    let chipsToCashRatio: Int
    let smallBlind: Int
    let bigBlind: Int
    let ante: Int?
    let status: String // "active", "awaitingForSettlements", "finished"
    let players: [PlayerTransferDTO]
    let bank: SessionBankTransferDTO?
    let expenses: [ExpenseTransferDTO]
    let metadata: TransferMetadata

    struct TransferMetadata: Codable {
        let formatVersion: String // "1.0"
        let exportDate: Date
        let appVersion: String
    }
}

// –ò–≥—Ä–æ–∫ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
struct PlayerTransferDTO: Codable {
    let id: UUID
    let name: String
    let inGame: Bool
    let getsRakeback: Bool
    let rakeback: Int
    let transactions: [TransactionTransferDTO]
}

// –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∏–≥—Ä–æ–∫–∞ (buy-in, add-on, cash-out)
struct TransactionTransferDTO: Codable {
    let id: UUID
    let timestamp: Date
    let type: String // "buyIn", "addOn", "cashOut"
    let chipAmount: Int
}

// –ë–∞–Ω–∫ —Å–µ—Å—Å–∏–∏
struct SessionBankTransferDTO: Codable {
    let id: UUID
    let expectedTotal: Int
    let isClosed: Bool
    let managerPlayerID: UUID? // ID –∏–≥—Ä–æ–∫–∞-–º–µ–Ω–µ–¥–∂–µ—Ä–∞
    let transactions: [SessionBankTransactionTransferDTO]
}

// –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±–∞–Ω–∫–∞
struct SessionBankTransactionTransferDTO: Codable {
    let id: UUID
    let timestamp: Date
    let amount: Int
    let type: String // "deposit", "withdrawal"
    let playerID: UUID?
    let notes: String?
}

// –†–∞—Å—Ö–æ–¥
struct ExpenseTransferDTO: Codable {
    let id: UUID
    let title: String
    let amount: Int
    let timestamp: Date
    let payerPlayerID: UUID? // ID –∏–≥—Ä–æ–∫–∞, –æ–ø–ª–∞—Ç–∏–≤—à–µ–≥–æ —Ä–∞—Å—Ö–æ–¥
    let paidFromRake: Bool
    let distribution: [ExpenseDistributionTransferDTO]
}

// –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞
struct ExpenseDistributionTransferDTO: Codable {
    let id: UUID
    let playerID: UUID
    let amount: Int
}
```

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

- **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ:** `.pokersession`
- **MIME type:** `application/json`
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** UTF-8
- **–§–æ—Ä–º–∞—Ç –¥–∞—Ç:** ISO8601 —Å timezone
- **Pretty print:** –î–∞ (–¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ)
- **–ò–º—è —Ñ–∞–π–ª–∞:** `{sessionTitle}_{YYYY-MM-DD}.pokersession`
  - –ü—Ä–∏–º–µ—Ä: `–î–æ–º–∞—à–Ω—è—è_–∏–≥—Ä–∞_2025-01-13.pokersession`

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ ID

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –≥–¥–µ —É–∂–µ –µ—Å—Ç—å —Å–µ—Å—Å–∏—è —Å —Ç–∞–∫–∏–º –∂–µ UUID, –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º **–Ω–æ–≤—ã–µ UUID** –¥–ª—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (Session, Player, Transaction, Bank, Expense)
2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –º–∞–ø–ø–∏–Ω–≥ —Å—Ç–∞—Ä—ã—Ö ID ‚Üí –Ω–æ–≤—ã—Ö ID –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–µ–π
3. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ —Å–≤—è–∑–∏ —Å –Ω–æ–≤—ã–º–∏ ID (player.transactions, bank.manager, expense.payer, etc.)

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Å—Å–∏—è –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –∫–æ–ø–∏–µ–π.

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ Transfer Models

**–§–∞–π–ª:** `Home Poker/Domain/Models/Transfer/SessionTransferDTO.swift`

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `Transfer/` –≤ `Domain/Models/`
2. –°–æ–∑–¥–∞—Ç—å –≤—Å–µ DTO —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º `Codable`
3. –î–æ–±–∞–≤–∏—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ SwiftData –º–æ–¥–µ–ª–µ–π:
   ```swift
   extension SessionTransferDTO {
       init(from session: Session, exportDate: Date, appVersion: String) {
           // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è Session ‚Üí SessionTransferDTO
       }
   }
   ```

**–†–∞–∑–º–µ—Ä:** ~200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ SessionTransferService

**–§–∞–π–ª:** `Home Poker/Domain/Services/SessionTransferService.swift`

**–ü—Ä–æ—Ç–æ–∫–æ–ª:**
```swift
protocol SessionTransferService {
    func exportSession(_ session: Session) throws -> Data
    func importSession(from data: Data, into context: ModelContext) throws -> Session
}
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```swift
final class SessionTransferServiceImpl: SessionTransferService {

    // MARK: - Export

    func exportSession(_ session: Session) throws -> Data {
        // 1. –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let appVersion = Bundle.main.infoDictionary?["CFBundleShortVersionString"] as? String ?? "1.0"

        // 2. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Session ‚Üí SessionTransferDTO
        let dto = SessionTransferDTO(
            from: session,
            exportDate: Date(),
            appVersion: appVersion
        )

        // 3. –°–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ JSON —Å pretty print
        let encoder = JSONEncoder()
        encoder.dateEncodingStrategy = .iso8601
        encoder.outputFormatting = [.prettyPrinted, .sortedKeys]

        return try encoder.encode(dto)
    }

    // MARK: - Import

    func importSession(from data: Data, into context: ModelContext) throws -> Session {
        // 1. –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å JSON ‚Üí DTO
        let decoder = JSONDecoder()
        decoder.dateDecodingStrategy = .iso8601
        let dto = try decoder.decode(SessionTransferDTO.self, from: data)

        // 2. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
        try validateTransferData(dto)

        // 3. –°–æ–∑–¥–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ —Å—Ç–∞—Ä—ã—Ö ID ‚Üí –Ω–æ–≤—ã—Ö ID
        let idMapper = IDMapper()

        // 4. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é Session
        let session = Session(
            sessionTitle: dto.sessionTitle,
            location: dto.location,
            gameType: GameType(rawValue: dto.gameType) ?? .nlHoldem,
            chipsToCashRatio: dto.chipsToCashRatio,
            smallBlind: dto.smallBlind,
            bigBlind: dto.bigBlind,
            ante: dto.ante
        )
        session.startTime = dto.startTime
        session.endTime = dto.endTime
        session.status = SessionStatus(rawValue: dto.status) ?? .active

        idMapper.map(oldID: dto.id, to: session.id)

        // 5. –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä–æ–∫–æ–≤
        var playersMap: [UUID: Player] = [:]
        for playerDTO in dto.players {
            let player = Player(name: playerDTO.name)
            player.inGame = playerDTO.inGame
            player.getsRakeback = playerDTO.getsRakeback
            player.rakeback = playerDTO.rakeback

            idMapper.map(oldID: playerDTO.id, to: player.id)
            playersMap[playerDTO.id] = player
            session.players.append(player)

            // 5.1 –°–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞
            for txDTO in playerDTO.transactions {
                let transaction = PlayerChipTransaction(
                    type: ChipTransactionType(rawValue: txDTO.type) ?? .buyIn,
                    chipAmount: txDTO.chipAmount,
                    player: player
                )
                transaction.timestamp = txDTO.timestamp
                player.transactions.append(transaction)
            }
        }

        // 6. –°–æ–∑–¥–∞—Ç—å –±–∞–Ω–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        if let bankDTO = dto.bank {
            let bank = SessionBank(session: session)
            bank.expectedTotal = bankDTO.expectedTotal
            bank.isClosed = bankDTO.isClosed

            // 6.1 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
            if let managerID = bankDTO.managerPlayerID,
               let manager = playersMap[managerID] {
                bank.manager = manager
            }

            // 6.2 –°–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–∞–Ω–∫–∞
            for txDTO in bankDTO.transactions {
                let player = txDTO.playerID.flatMap { playersMap[$0] }
                let transaction = SessionBankTransaction(
                    amount: txDTO.amount,
                    type: BankTransactionType(rawValue: txDTO.type) ?? .deposit,
                    player: player,
                    bank: bank
                )
                transaction.timestamp = txDTO.timestamp
                transaction.notes = txDTO.notes
                bank.transactions.append(transaction)
            }

            session.bank = bank
        }

        // 7. –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã
        for expenseDTO in dto.expenses {
            let payer = expenseDTO.payerPlayerID.flatMap { playersMap[$0] }
            let expense = Expense(
                title: expenseDTO.title,
                amount: expenseDTO.amount,
                payer: payer,
                session: session
            )
            expense.timestamp = expenseDTO.timestamp
            expense.paidFromRake = expenseDTO.paidFromRake

            // 7.1 –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞
            for distDTO in expenseDTO.distribution {
                if let player = playersMap[distDTO.playerID] {
                    let distribution = ExpenseDistribution(
                        player: player,
                        amount: distDTO.amount,
                        expense: expense
                    )
                    expense.distribution.append(distribution)
                }
            }

            session.expenses.append(expense)
        }

        // 8. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
        context.insert(session)
        try context.save()

        return session
    }

    // MARK: - Validation

    private func validateTransferData(_ dto: SessionTransferDTO) throws {
        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é —Ñ–æ—Ä–º–∞—Ç–∞
        guard dto.metadata.formatVersion == "1.0" else {
            throw TransferError.unsupportedFormatVersion(dto.metadata.formatVersion)
        }

        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
        let playerIDs = Set(dto.players.map { $0.id })

        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ manager —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å—Ä–µ–¥–∏ –∏–≥—Ä–æ–∫–æ–≤
        if let managerID = dto.bank?.managerPlayerID {
            guard playerIDs.contains(managerID) else {
                throw TransferError.invalidReference("Bank manager not found in players")
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ payer'—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
        for expense in dto.expenses {
            if let payerID = expense.payerPlayerID {
                guard playerIDs.contains(payerID) else {
                    throw TransferError.invalidReference("Expense payer not found in players")
                }
            }

            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å distribution
            for dist in expense.distribution {
                guard playerIDs.contains(dist.playerID) else {
                    throw TransferError.invalidReference("Distribution player not found")
                }
            }
        }
    }
}

// MARK: - Helper Classes

private class IDMapper {
    private var mapping: [UUID: UUID] = [:]

    func map(oldID: UUID, to newID: UUID) {
        mapping[oldID] = newID
    }

    func newID(for oldID: UUID) -> UUID? {
        mapping[oldID]
    }
}

// MARK: - Errors

enum TransferError: LocalizedError {
    case unsupportedFormatVersion(String)
    case invalidReference(String)
    case corruptedData

    var errorDescription: String? {
        switch self {
        case .unsupportedFormatVersion(let version):
            return "–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞: \(version)"
        case .invalidReference(let message):
            return "–û—à–∏–±–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö: \(message)"
        case .corruptedData:
            return "–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Å—Å–∏–∏"
        }
    }
}
```

**–†–∞–∑–º–µ—Ä:** ~250 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

### –≠—Ç–∞–ø 3: UI –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å–µ—Å—Å–∏–∏

**–§–∞–π–ª:** `Home Poker/Features/Session/SessionDetail/SessionDetailView.swift`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å `@State` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
2. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" –≤ toolbar
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ShareLink` –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ Share Sheet

**–ö–æ–¥:**
```swift
struct SessionDetailView: View {
    @Environment(\.modelContext) private var modelContext
    let session: Session

    @State private var sessionTransferFile: SessionTransferFile?
    @State private var showExportError = false
    @State private var exportError: Error?

    private let transferService: SessionTransferService = SessionTransferServiceImpl()

    var body: some View {
        // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
        .toolbar {
            // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–Ω–æ–ø–∫–∏

            ToolbarItem(placement: .topBarTrailing) {
                if let transferFile = sessionTransferFile {
                    ShareLink(
                        item: transferFile.url,
                        preview: SharePreview(
                            "–°–µ—Å—Å–∏—è: \(session.sessionTitle)",
                            image: Image(systemName: "suit.spade.fill")
                        )
                    ) {
                        Label("–ü–æ–¥–µ–ª–∏—Ç—å—Å—è", systemImage: "square.and.arrow.up")
                    }
                } else {
                    Button {
                        exportSession()
                    } label: {
                        Label("–ü–æ–¥–µ–ª–∏—Ç—å—Å—è", systemImage: "square.and.arrow.up")
                    }
                }
            }
        }
        .alert("–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞", isPresented: $showExportError) {
            Button("OK", role: .cancel) { }
        } message: {
            Text(exportError?.localizedDescription ?? "–ù–µ —É–¥–∞–ª–æ—Å—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é")
        }
    }

    private func exportSession() {
        do {
            let data = try transferService.exportSession(session)
            let filename = generateFilename(for: session)
            let url = try saveToTemporaryFile(data: data, filename: filename)
            sessionTransferFile = SessionTransferFile(url: url, filename: filename)
        } catch {
            exportError = error
            showExportError = true
        }
    }

    private func generateFilename(for session: Session) -> String {
        let dateFormatter = DateFormatter()
        dateFormatter.dateFormat = "yyyy-MM-dd"
        let dateString = dateFormatter.string(from: session.startTime)

        let sanitizedTitle = session.sessionTitle
            .replacingOccurrences(of: " ", with: "_")
            .replacingOccurrences(of: "/", with: "-")

        return "\(sanitizedTitle)_\(dateString).pokersession"
    }

    private func saveToTemporaryFile(data: Data, filename: String) throws -> URL {
        let tempDir = FileManager.default.temporaryDirectory
        let fileURL = tempDir.appendingPathComponent(filename)
        try data.write(to: fileURL)
        return fileURL
    }
}

struct SessionTransferFile: Identifiable {
    let id = UUID()
    let url: URL
    let filename: String
}
```

**–†–∞–∑–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π:** +50 —Å—Ç—Ä–æ–∫

---

### –≠—Ç–∞–ø 4: UI –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —Å–µ—Å—Å–∏–∏

**–§–∞–π–ª:** `Home Poker/Features/SessionList/Views/SessionListView.swift`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å `@State` –¥–ª—è file importer
2. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ò–º–ø–æ—Ä—Ç" –≤ toolbar
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

**–ö–æ–¥:**
```swift
struct SessionListView: View {
    @Environment(\.modelContext) private var modelContext
    @Query(sort: \Session.startTime, order: .reverse) private var sessions: [Session]

    @State private var showImportPicker = false
    @State private var showImportSuccess = false
    @State private var showImportError = false
    @State private var importError: Error?
    @State private var importedSession: Session?

    private let transferService: SessionTransferService = SessionTransferServiceImpl()

    var body: some View {
        NavigationStack {
            // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ —Å–ø–∏—Å–∫–∞
            .toolbar {
                // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–Ω–æ–ø–∫–∏

                ToolbarItem(placement: .topBarLeading) {
                    Button {
                        showImportPicker = true
                    } label: {
                        Label("–ò–º–ø–æ—Ä—Ç", systemImage: "square.and.arrow.down")
                    }
                }
            }
            .fileImporter(
                isPresented: $showImportPicker,
                allowedContentTypes: [.pokerSession],
                allowsMultipleSelection: false
            ) { result in
                handleImport(result: result)
            }
            .alert("–°–µ—Å—Å–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞", isPresented: $showImportSuccess) {
                Button("OK", role: .cancel) { }
            } message: {
                if let session = importedSession {
                    Text("–°–µ—Å—Å–∏—è \"\(session.sessionTitle)\" —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞")
                }
            }
            .alert("–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞", isPresented: $showImportError) {
                Button("OK", role: .cancel) { }
            } message: {
                Text(importError?.localizedDescription ?? "–ù–µ —É–¥–∞–ª–æ—Å—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é")
            }
        }
    }

    private func handleImport(result: Result<[URL], Error>) {
        switch result {
        case .success(let urls):
            guard let fileURL = urls.first else { return }
            importSession(from: fileURL)
        case .failure(let error):
            importError = error
            showImportError = true
        }
    }

    private func importSession(from url: URL) {
        do {
            // –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª—É
            guard url.startAccessingSecurityScopedResource() else {
                throw TransferError.corruptedData
            }
            defer { url.stopAccessingSecurityScopedResource() }

            // –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
            let data = try Data(contentsOf: url)

            // –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
            let session = try transferService.importSession(from: data, into: modelContext)

            // –ü–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—Ö
            importedSession = session
            showImportSuccess = true

        } catch {
            importError = error
            showImportError = true
        }
    }
}
```

**–†–∞–∑–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π:** +60 —Å—Ç—Ä–æ–∫

---

### –≠—Ç–∞–ø 5: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ .pokersession

**–§–∞–π–ª:** `Home Poker/Domain/Models/Transfer/PokerSessionFileType.swift`

**–°–æ–∑–¥–∞—Ç—å UTType:**
```swift
import UniformTypeIdentifiers

extension UTType {
    static var pokerSession: UTType {
        UTType(exportedAs: "com.homepoker.session")
    }
}
```

**–§–∞–π–ª:** `Home Poker/Info.plist` (–∏–ª–∏ —á–µ—Ä–µ–∑ Xcode Target Settings)

**–î–æ–±–∞–≤–∏—Ç—å –≤ Info.plist:**
```xml
<key>UTExportedTypeDeclarations</key>
<array>
    <dict>
        <key>UTTypeIdentifier</key>
        <string>com.homepoker.session</string>
        <key>UTTypeDescription</key>
        <string>Home Poker Session</string>
        <key>UTTypeConformsTo</key>
        <array>
            <string>public.json</string>
            <string>public.data</string>
        </array>
        <key>UTTypeTagSpecification</key>
        <dict>
            <key>public.filename-extension</key>
            <array>
                <string>pokersession</string>
            </array>
            <key>public.mime-type</key>
            <array>
                <string>application/json</string>
            </array>
        </dict>
    </dict>
</array>
<key>CFBundleDocumentTypes</key>
<array>
    <dict>
        <key>CFBundleTypeName</key>
        <string>Home Poker Session</string>
        <key>LSHandlerRank</key>
        <string>Owner</string>
        <key>LSItemContentTypes</key>
        <array>
            <string>com.homepoker.session</string>
        </array>
    </dict>
</array>
```

**–†–∞–∑–º–µ—Ä:** +30 —Å—Ç—Ä–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

### –≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–∞–π–ª:** `Home PokerTests/Domain/SessionTransferServiceTests.swift`

**–¢–µ—Å—Ç—ã:**
```swift
import XCTest
@testable import Home_Poker

final class SessionTransferServiceTests: XCTestCase {
    var service: SessionTransferService!

    override func setUp() {
        super.setUp()
        service = SessionTransferServiceImpl()
    }

    func testExportImportSimpleSession() throws {
        // Given: –ü—Ä–æ—Å—Ç–∞—è —Å–µ—Å—Å–∏—è —Å 2 –∏–≥—Ä–æ–∫–∞–º–∏
        let session = SessionBuilder()
            .withTitle("Test Session")
            .withPlayers(["Alice", "Bob"])
            .build()

        // When: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º
        let data = try service.exportSession(session)
        let importedSession = try service.importSession(from: data, into: modelContext)

        // Then: –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å
        XCTAssertEqual(importedSession.sessionTitle, session.sessionTitle)
        XCTAssertEqual(importedSession.players.count, session.players.count)
        XCTAssertNotEqual(importedSession.id, session.id) // ID –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–Ω—ã–µ
    }

    func testExportImportWithBank() throws {
        // Given: –°–µ—Å—Å–∏—è —Å –±–∞–Ω–∫–æ–º
        let session = SessionBuilder()
            .withBank(manager: "Alice", expectedTotal: 50000)
            .build()

        // When: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º
        let data = try service.exportSession(session)
        let importedSession = try service.importSession(from: data, into: modelContext)

        // Then: –ë–∞–Ω–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
        XCTAssertNotNil(importedSession.bank)
        XCTAssertEqual(importedSession.bank?.expectedTotal, 50000)
        XCTAssertNotNil(importedSession.bank?.manager)
    }

    func testExportImportWithExpenses() throws {
        // Given: –°–µ—Å—Å–∏—è —Å —Ä–∞—Å—Ö–æ–¥–∞–º–∏
        let session = SessionBuilder()
            .withExpense(title: "–ï–¥–∞", amount: 1000, payer: "Alice")
            .build()

        // When: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º
        let data = try service.exportSession(session)
        let importedSession = try service.importSession(from: data, into: modelContext)

        // Then: –†–∞—Å—Ö–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
        XCTAssertEqual(importedSession.expenses.count, 1)
        XCTAssertEqual(importedSession.expenses.first?.title, "–ï–¥–∞")
    }

    func testInvalidFormatVersionThrowsError() throws {
        // Given: JSON —Å –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–π –≤–µ—Ä—Å–∏–µ–π
        let invalidJSON = """
        {
            "metadata": {
                "formatVersion": "99.0"
            }
        }
        """.data(using: .utf8)!

        // When/Then: –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
        XCTAssertThrowsError(try service.importSession(from: invalidJSON, into: modelContext)) { error in
            XCTAssertTrue(error is TransferError)
        }
    }
}
```

**–†–∞–∑–º–µ—Ä:** ~150 —Å—Ç—Ä–æ–∫

---

## –ò—Ç–æ–≥–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã (—Å–æ–∑–¥–∞—Ç—å):

1. **`Home Poker/Domain/Models/Transfer/SessionTransferDTO.swift`**
   - –í—Å–µ DTO —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - ~200 —Å—Ç—Ä–æ–∫

2. **`Home Poker/Domain/Models/Transfer/PokerSessionFileType.swift`**
   - UTType –¥–ª—è .pokersession
   - ~10 —Å—Ç—Ä–æ–∫

3. **`Home Poker/Domain/Services/SessionTransferService.swift`**
   - –ü—Ä–æ—Ç–æ–∫–æ–ª –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
   - ~250 —Å—Ç—Ä–æ–∫

4. **`Home PokerTests/Domain/SessionTransferServiceTests.swift`**
   - Unit-—Ç–µ—Å—Ç—ã
   - ~150 —Å—Ç—Ä–æ–∫

### –ò–∑–º–µ–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã:

1. **`Home Poker/Features/Session/SessionDetail/SessionDetailView.swift`**
   - –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É —ç–∫—Å–ø–æ—Ä—Ç–∞
   - +50 —Å—Ç—Ä–æ–∫

2. **`Home Poker/Features/SessionList/Views/SessionListView.swift`**
   - –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –∏–º–ø–æ—Ä—Ç–∞
   - +60 —Å—Ç—Ä–æ–∫

3. **`Home Poker/Info.plist`**
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞
   - +30 —Å—Ç—Ä–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ò—Ç–æ–≥–æ:
- **–ù–æ–≤—ã–π –∫–æ–¥:** ~610 —Å—Ç—Ä–æ–∫
- **–ò–∑–º–µ–Ω–µ–Ω–∏–π:** ~140 —Å—Ç—Ä–æ–∫
- **–í—Å–µ–≥–æ:** ~750 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## –ü—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (User Flow)

### –≠–∫—Å–ø–æ—Ä—Ç —Å–µ—Å—Å–∏–∏ (–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ê):

1. –û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É (–∏–∫–æ–Ω–∫–∞ –∫–≤–∞–¥—Ä–∞—Ç–∞ —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π –≤–≤–µ—Ä—Ö)
3. –í—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± –æ—Ç–ø—Ä–∞–≤–∫–∏:
   - **AirDrop** ‚Üí –≤—ã–±—Ä–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ –ë
   - **WhatsApp/Telegram** ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª –≤ —á–∞—Ç
   - **–ü–æ—á—Ç–∞** ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞–∫ –≤–ª–æ–∂–µ–Ω–∏–µ
   - **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –§–∞–π–ª—ã** ‚Üí –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–∑–∂–µ
4. –§–∞–π–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –∏–º–µ–Ω–µ–º —Ç–∏–ø–∞ `–î–æ–º–∞—à–Ω—è—è_–∏–≥—Ä–∞_2025-01-13.pokersession`

### –ò–º–ø–æ—Ä—Ç —Å–µ—Å—Å–∏–∏ (–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ë):

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ**
1. –ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª –≤ WhatsApp/Telegram
2. –ù–∞–∂–∞—Ç—å –Ω–∞ —Ñ–∞–π–ª ‚Üí "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" ‚Üí "Home Poker"
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–µ—Å—Å–∏—é
4. –ü–æ—è–≤–∏—Ç—Å—è –∞–ª–µ—Ä—Ç "–°–µ—Å—Å–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞"
5. –°–µ—Å—Å–∏—è –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å–µ—Å—Å–∏–π

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –∏–º–ø–æ—Ä—Ç–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Home Poker
2. –ù–∞ —ç–∫—Ä–∞–Ω–µ —Å–ø–∏—Å–∫–∞ —Å–µ—Å—Å–∏–π –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ò–º–ø–æ—Ä—Ç" (–∏–∫–æ–Ω–∫–∞ –∫–≤–∞–¥—Ä–∞—Ç–∞ —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π –≤–Ω–∏–∑)
3. –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª `.pokersession` –∏–∑ –§–∞–π–ª–æ–≤/Downloads
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–±–æ—Ä
5. –ü–æ—è–≤–∏—Ç—Å—è –∞–ª–µ—Ä—Ç "–°–µ—Å—Å–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞"
6. –°–µ—Å—Å–∏—è –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞:

1. **–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π JSON**
   - –û—à–∏–±–∫–∞: "–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Å—Å–∏–∏"
   - –ü—Ä–∏—á–∏–Ω–∞: –§–∞–π–ª –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é
   - –†–µ—à–µ–Ω–∏–µ: –ü–æ–ø—Ä–æ—Å–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª –∑–∞–Ω–æ–≤–æ

2. **–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞**
   - –û—à–∏–±–∫–∞: "–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞: X.X"
   - –ü—Ä–∏—á–∏–Ω–∞: –§–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∏–∑ –±–æ–ª–µ–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

3. **–ù–∞—Ä—É—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö**
   - –û—à–∏–±–∫–∞: "–û—à–∏–±–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö: [–æ–ø–∏—Å–∞–Ω–∏–µ]"
   - –ü—Ä–∏—á–∏–Ω–∞: –°—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ (manager, payer)
   - –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é

4. **–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É**
   - –û—à–∏–±–∫–∞: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ iOS
   - –ü—Ä–∏—á–∏–Ω–∞: –§–∞–π–ª —É–¥–∞–ª–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
   - –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

1. **–ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏**
   - –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–ø–∏–∏
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–π –∫–æ–ø–∏–∏ –Ω–µ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –¥—Ä—É–≥–æ–π
   - –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è, –∫—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É

2. **–ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π**
   - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∞—è –∫–æ–ø–∏—è "—Å–≤–µ–∂–µ–µ"
   - –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Å–ª–∏—è–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

3. **–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö**
   - –ù–µ–ª—å–∑—è —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤—Å—è –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è**
   - –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ (JSON)
   - –õ—é–±–æ–π –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –±—É–¥—É—â–µ–º:

- ‚ú® –í—ã–±–æ—Ä–æ—á–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç (—Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä–æ–∫–∏, –±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏)
- üîí –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–∞—Ä–æ–ª–µ–º
- üì¶ Batch export (—ç–∫—Å–ø–æ—Ä—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Å—Å–∏–π)
- ‚òÅÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –≤ iCloud Drive
- üîÑ –û–±–ª–∞—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å conflict resolution
- üë• –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º (–Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

---

## –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ (–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

### –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: 1.0

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. –£–≤–µ–ª–∏—á–∏—Ç—å –≤–µ—Ä—Å–∏—é —Ñ–æ—Ä–º–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1.1, 2.0)
2. –û–±–Ω–æ–≤–∏—Ç—å `SessionTransferDTO.TransferMetadata.formatVersion`
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π:

```swift
private func migrateIfNeeded(_ dto: SessionTransferDTO) throws -> SessionTransferDTO {
    switch dto.metadata.formatVersion {
    case "1.0":
        return dto // –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è
    case "0.9":
        return try migrateFrom_0_9_to_1_0(dto)
    default:
        throw TransferError.unsupportedFormatVersion(dto.metadata.formatVersion)
    }
}
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:

- –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏
- –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π —Ç—Ä–µ–±—É–µ—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è major –≤–µ—Ä—Å–∏–∏ (2.0)
- –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–æ–ª—è (Decoder.keyDecodingStrategy)

---

## –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

#### –¢–µ—Å—Ç 1: –ë–∞–∑–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞
1. –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ê
2. –î–æ–±–∞–≤–∏—Ç—å 3 –∏–≥—Ä–æ–∫–æ–≤: Alice, Bob, Charlie
3. –ó–∞–ø–∏—Å–∞—Ç—å buy-in –¥–ª—è –∫–∞–∂–¥–æ–≥–æ (10,000 —Ñ–∏—à–µ–∫)
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é
5. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ AirDrop –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ë
6. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ë
7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –≤—Å–µ –∏–≥—Ä–æ–∫–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –º–µ—Å—Ç–µ

#### –¢–µ—Å—Ç 2: –°–µ—Å—Å–∏—è —Å –±–∞–Ω–∫–æ–º
1. –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é —Å –±–∞–Ω–∫–æ–º
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
3. –î–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –±–∞–Ω–∫–∞
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –±–∞–Ω–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

#### –¢–µ—Å—Ç 3: –°–µ—Å—Å–∏—è —Å —Ä–∞—Å—Ö–æ–¥–∞–º–∏
1. –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é —Å 3 –∏–≥—Ä–æ–∫–∞–º–∏
2. –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥ "–ï–¥–∞" –Ω–∞ 1500, –æ–ø–ª–∞—Ç–∏–ª Alice
3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ—Ä–æ–≤–Ω—É –º–µ–∂–¥—É –≤—Å–µ–º–∏
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: —Ä–∞—Å—Ö–æ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ

#### –¢–µ—Å—Ç 4: –ê–∫—Ç–∏–≤–Ω–∞—è –∏–≥—Ä–∞ (—Ä–µ–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π)
1. –ù–∞—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Å–µ—Å—Å–∏—é –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ê
2. –ò–≥—Ä–∞—Ç—å 1 —á–∞—Å: buy-ins, re-buys, –æ–¥–∏–Ω cash-out
3. –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É –µ–¥—ã
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ë
5. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ë
6. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∑–∞–ø–∏—Å—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É

#### –¢–µ—Å—Ç 5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
1. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
2. –í—Ä—É—á–Ω—É—é –∏—Å–ø–æ—Ä—Ç–∏—Ç—å JSON ‚Üí –æ—à–∏–±–∫–∞ "–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª"
3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –¥–≤–∞–∂–¥—ã ‚Üí –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å—Å—è 2 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–ø–∏–∏

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã (—Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã, –Ω–æ –Ω–µ –≤—ã–±—Ä–∞–Ω—ã)

### QR-–∫–æ–¥ –ø–µ—Ä–µ–¥–∞—á–∞
**–ü–ª—é—Å—ã:** –ë—ã—Å—Ç—Ä–æ, –≤–∏–∑—É–∞–ª—å–Ω–æ, –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
**–ú–∏–Ω—É—Å—ã:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ~2-4 KB, –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–µ—Å—Å–∏–π
**–í–µ—Ä–¥–∏–∫—Ç:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–µ—Å—Å–∏–π

### CloudKit (iCloud)
**–ü–ª—é—Å—ã:** –ù–∞—Ç–∏–≤–Ω–æ–µ Apple —Ä–µ—à–µ–Ω–∏–µ, –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
**–ú–∏–Ω—É—Å—ã:** –¢–æ–ª—å–∫–æ iOS, —Å–ª–æ–∂–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è, —Ç—Ä–µ–±—É–µ—Ç iCloud –∞–∫–∫–∞—É–Ω—Ç
**–í–µ—Ä–¥–∏–∫—Ç:** –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ –¥–ª—è MVP, –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ

### Firebase/Supabase backend
**–ü–ª—é—Å—ã:** Real-time sync, –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º, backup
**–ú–∏–Ω—É—Å—ã:** –¢—Ä–µ–±—É–µ—Ç backend, –∑–∞—Ç—Ä–∞—Ç—ã, —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
**–í–µ—Ä–¥–∏–∫—Ç:** –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏, –≤–æ–∑–º–æ–∂–Ω–æ –≤ –±—É–¥—É—â–µ–º

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø–ª–∞–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–∫–µ—Ä–Ω–æ–π —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç JSON-—Ñ–∞–π–ª–æ–≤.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (~750 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç backend –∏–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ä–∞–∑–º–µ—Ä–æ–º —Å–µ—Å—Å–∏–∏
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏ (–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UX (–Ω–∞—Ç–∏–≤–Ω—ã–µ iOS –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 2-3 –¥–Ω—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

_–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2025-01-13_
_–í–µ—Ä—Å–∏—è: 1.0_
_–ê–≤—Ç–æ—Ä: Claude Code_
